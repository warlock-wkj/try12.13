<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		
		<div id="app">
			<input type="button" value="切换组件1" @click = "tabComponent(1)"/>
			<input type="button" value="切换组件2" @click = "tabComponent(2)"/>
			<input type="button" value="切换组件3" @click = "tabComponent(3)"/>
			<keep-alive>
				<component :is = "current"></component>
			</keep-alive>
		</div>
		
		<script src = "vue.js"></script>
		
		<script>
			/*动态组件*/
			var custom1 = Vue.component("custom1",{
				template:`
					<p @click = "changeDivBg">这是第1个组件</p>
				`,
				methods:{
					changeDivBg(ev){
						ev.target.style.background = "red";
					}
				}
			});
			var custom2 = Vue.component("custom2",{
				template:`
					<p>这是第2个组件</p>
				`
			});
			var custom3 = Vue.component("custom3",{
				template:`
					<p>这是第3个组件</p>
				`
			});
			
			
			new Vue({
				el: "#app",
				data:{
					current: custom1
				},
				methods:{
					tabComponent:function(index){
						if(index === 1){
							this.current = custom1;
						}else if(index === 2){
							this.current = custom2;
						}else{
							this.current = custom3;
						}
					}
				}
			});
		</script>
	</body>
</html>
